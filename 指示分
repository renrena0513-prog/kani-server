目的:
slot_reel_results テーブルは現行実装で一切使っていない（reels_state(jsonb)運用に統一済み）ため、DB/SQLから完全撤去して軽量化・保守性を上げる。

対象:
- sql/slot_event.sql（スキーマ/関数全体）
- Supabase(Postgres)

作業内容:
1) テーブル削除（安全に）
- 依存があっても落ちないように IF EXISTS を使う
- インデックス/制約も合わせて削除する（テーブルDROPで消えるが、念のため indexもIF EXISTSで消してOK）

実行SQL:
- drop table if exists public.slot_reel_results cascade;
- drop index if exists public.slot_reel_results_session_idx;

2) 関数内の参照を完全削除
以下のRPC/関数で slot_reel_results を参照している箇所が残っていれば全削除し、reels_state(jsonb)のみで成立するように直す:
- slot_get_state
- slot_start_session
- slot_spin_reel
- slot_cashout
（※現在の最新版では reels_state を使っている想定だが、過去の残骸が混ざっている可能性があるので全文検索して全除去）

検索キーワード例:
- slot_reel_results
- r.mode
- free_spin_round, mode, session_id を使った集計ブロック（resultsテーブル由来）

3) 返却JSONの互換維持
- 既存フロントが期待するレスポンス形(session, reels, result, payout等)は維持
- reels は必ず slot_sessions.reels_state から返す

4) マイグレーション順序（重要）
- 先に「関数の参照削除＆置換」を適用 → その後に DROP TABLE
（関数が参照したままDROPすると実行時エラーになるため）

5) 動作確認
- slot_get_state が正常に動き、reels_state が返ること
- slot_spin_reel が正常に reels_state を更新し進行できること
- slot_cashout が正常に集計できること
- 既存セッションがある状態でもページが壊れないこと

注意:
- もしDB内に古い版の slot_get_state/slot_spin_reel が残っていて slot_reel_results 参照が混ざっている場合、CREATE OR REPLACE で最新版に上書きすること。